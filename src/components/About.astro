---
/**
 * About Section â€” MUI brandingTheme.ts
 * Split layout with animated bio, stats counters, and personal highlights.
 * Typography: h2 uses General Sans, 48px/1.2, letterSpacing: -0.2px
 */
const stats = [
  { value: 5, suffix: "+", label: "Years of Experience", i18nKey: "about.stat0" },
  { value: 5, suffix: "", label: "Key Projects", i18nKey: "about.stat1" },
  { value: 10, suffix: "+", label: "Published Articles", i18nKey: "about.stat2" },
  { value: 1, suffix: "", label: "MVP Nomination", i18nKey: "about.stat3" },
];

const highlights = [
  { text: "Microsoft MVP Nominee for technical contributions to the community", i18nKey: "about.highlight0" },
  { text: "Planet Xamarin member \u2014 curated elite community in Microsoft's mobile ecosystem", i18nKey: "about.highlight1" },
  { text: "Official contributor at WeAreDotnet.io", i18nKey: "about.highlight2" },
  { text: "Self-taught with a focus on order, simplicity, and scalability", i18nKey: "about.highlight3" },
];
---

<section id="about" class="relative py-24 lg:py-32">
  <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
    <!-- Section Header -->
    <div class="text-center mb-16 reveal-up">
      <p class="mui-overline" data-i18n="about.overline">About</p>
      <h2 class="mui-h2" data-i18n-html="about.titleHtml">
        Who I am and <span class="gradient-text">what drives me</span>
      </h2>
    </div>

    <div class="grid lg:grid-cols-2 gap-12 lg:gap-20 items-center">
      <!-- Left: Image / Visual -->
      <div class="reveal-left">
        <div class="relative group">
          <!-- Image container -->
          <div
            class="relative rounded-3xl overflow-hidden aspect-square max-w-md mx-auto"
            style="border: 1px solid var(--mui-border);"
          >
            <img
              src="https://raw.githubusercontent.com/danielmonettelli/danielmonettelli.github.io/refs/heads/main/blog/assets/images/Daniel_Monettelli.png"
              alt="Daniel Monettelli â€” Full Stack Developer"
              class="w-full h-full object-cover"
              width="448"
              height="448"
              loading="lazy"
              decoding="async"
            />

            <!-- Overlay -->
            <div class="absolute inset-0" style="background: linear-gradient(to top, var(--mui-bg) 0%, transparent 40%);" aria-hidden="true"></div>

            <!-- Floating badge on image -->
            <div
              class="absolute bottom-4 left-4 right-4 glass rounded-2xl px-4 py-3 flex items-center gap-3"
            >
              <div class="w-3 h-3 rounded-full bg-emerald-400 animate-pulse" aria-hidden="true"></div>
              <div>
                <p class="text-xs font-semibold" style="color: var(--mui-text-primary);" data-i18n="about.badge">Full Stack Developer</p>
                <p class="text-[10px]" style="color: var(--mui-text-muted);" data-i18n="about.location">Arequipa, Peru ðŸ‡µðŸ‡ª</p>
              </div>
            </div>
          </div>
        </div>
      </div>

      <!-- Right: Bio Text -->
      <div class="reveal-right">
        <p class="text-base sm:text-lg leading-relaxed mb-6" style="color: var(--mui-text-secondary);" data-i18n-html="about.bio1Html">
          I'm a <span class="font-medium" style="color: var(--mui-text-primary);">Full Stack Developer</span>
          with solid experience in the
          <span class="accent-text font-medium">.NET</span> ecosystem and cross-platform
          <span class="accent-text font-medium">mobile development</span>.
        </p>

        <p class="text-base sm:text-lg leading-relaxed mb-6" style="color: var(--mui-text-secondary);" data-i18n-html="about.bio2Html">
          With a strong self-taught foundation, I prioritize
          <span style="color: var(--mui-text-primary);">order and simplicity</span> in development,
          convinced that the best code is that which scales with transparency.
        </p>

        <p class="text-sm leading-relaxed mb-8" style="color: var(--mui-text-muted);" data-i18n="about.bio3">
          I approach each challenge with the determination of a specialist and the humility of a
          constant learner, always seeking to add tangible value through clean, secure, scalable,
          and deeply functional software.
        </p>

        <!-- Highlights -->
        <ul class="space-y-3 mb-10">
          {highlights.map((h) => (
            <li class="flex items-start gap-3">
              <div class="mt-1.5 w-1.5 h-1.5 rounded-full shrink-0" style="background: var(--mui-primary);" aria-hidden="true" />
              <span class="text-sm" style="color: var(--mui-text-muted);" data-i18n={h.i18nKey}>{h.text}</span>
            </li>
          ))}
        </ul>


      </div>
    </div>

    <!-- Stats -->
    <div class="grid grid-cols-2 md:grid-cols-4 gap-6 mt-16 stagger-children">
      {stats.map((stat) => (
        <div class="mui-paper rounded-2xl p-6 text-center transition-colors group">
          <div class="text-3xl sm:text-4xl font-bold font-display mb-1">
            <span class="gradient-text stat-counter" data-target={stat.value} data-suffix={stat.suffix}>
              0{stat.suffix}
            </span>
          </div>
          <p class="text-xs sm:text-sm" style="color: var(--mui-text-muted);" data-i18n={stat.i18nKey}>
            {stat.label}
          </p>
        </div>
      ))}
    </div>
  </div>
</section>

<script>
  import gsap from "gsap";
  import { ScrollTrigger } from "gsap/ScrollTrigger";
  gsap.registerPlugin(ScrollTrigger);

  const prefersReducedMotion = window.matchMedia("(prefers-reduced-motion: reduce)").matches;

  // Counters animation
  document.querySelectorAll<HTMLElement>(".stat-counter").forEach((el) => {
    const target = parseInt(el.dataset.target || "0");
    const suffix = el.dataset.suffix || "";

    if (prefersReducedMotion) {
      // Show final value immediately without animation
      el.textContent = target + suffix;
      return;
    }

    const obj = { value: 0 };

    gsap.to(obj, {
      value: target,
      duration: 2.5,
      ease: "power2.out",
      scrollTrigger: {
        trigger: el,
        start: "top 85%",
        toggleActions: "play none none none",
      },
      onUpdate: () => {
        el.textContent = Math.round(obj.value) + suffix;
      },
    });
  });
</script>
