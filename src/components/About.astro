---
/**
 * About Section ‚Äî MUI brandingTheme.ts
 * Split layout with animated bio, stats counters, and personal highlights.
 * Typography: h2 uses General Sans, 48px/1.2, letterSpacing: -0.2px
 */
const stats = [
  { value: 5, suffix: "+", label: "A√±os de Experiencia" },
  { value: 6, suffix: "+", label: "Proyectos Clave" },
  { value: 40, suffix: "+", label: "Art√≠culos Publicados" },
  { value: 1, suffix: "", label: "Nominaci√≥n MVP" },
];

const highlights = [
  "Nominado Microsoft MVP por contribuciones t√©cnicas a la comunidad",
  "Miembro de Planet Xamarin ‚Äî comunidad curada de √©lite en el ecosistema m√≥vil de Microsoft",
  "Contribuidor oficial en WeAreDotnet.io",
  "Autodidacta con enfoque en orden, sencillez y escalabilidad",
];
---

<section id="about" class="relative py-24 lg:py-32">
  <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
    <!-- Section Header -->
    <div class="text-center mb-16 reveal-up">
      <p class="mui-overline">Sobre M√≠</p>
      <h2 class="mui-h2">
        Quien soy y <span class="gradient-text">qu√© me mueve</span>
      </h2>
    </div>

    <div class="grid lg:grid-cols-2 gap-12 lg:gap-20 items-center">
      <!-- Left: Image / Visual -->
      <div class="reveal-left">
        <div class="relative group">
          <!-- Image container -->
          <div
            class="relative rounded-3xl overflow-hidden aspect-square max-w-md mx-auto"
            style="border: 1px solid var(--mui-border);"
          >
            <img
              src="https://raw.githubusercontent.com/danielmonettelli/danielmonettelli.github.io/main/assets/images/Daniel_Monettelli.png"
              alt="Daniel Monettelli ‚Äî Full Stack Developer"
              class="w-full h-full object-cover"
              width="448"
              height="448"
              loading="lazy"
              decoding="async"
            />

            <!-- Overlay -->
            <div class="absolute inset-0" style="background: linear-gradient(to top, var(--mui-bg) 0%, transparent 40%);"></div>

            <!-- Floating badge on image -->
            <div
              class="absolute bottom-4 left-4 right-4 glass rounded-2xl px-4 py-3 flex items-center gap-3"
            >
              <div class="w-3 h-3 rounded-full bg-emerald-400 animate-pulse"></div>
              <div>
                <p class="text-xs font-semibold" style="color: var(--mui-text-primary);">Full Stack Developer</p>
                <p class="text-[10px]" style="color: var(--mui-text-muted);">Arequipa, Per√∫ üáµüá™</p>
              </div>
            </div>
          </div>
        </div>
      </div>

      <!-- Right: Bio Text -->
      <div class="reveal-right">
        <p class="text-base sm:text-lg leading-relaxed mb-6" style="color: var(--mui-text-secondary);">
          Soy un <span class="font-medium" style="color: var(--mui-text-primary);">Desarrollador Full Stack</span>
          con s√≥lida experiencia en el ecosistema
          <span class="accent-text font-medium">.NET</span> y desarrollo
          <span class="accent-text font-medium">m√≥vil multiplataforma</span>.
        </p>

        <p class="text-base sm:text-lg leading-relaxed mb-6" style="color: var(--mui-text-secondary);">
          Con una s√≥lida base autodidacta, priorizo el
          <span style="color: var(--mui-text-primary);">orden y la sencillez</span> en el desarrollo,
          convencido de que el mejor c√≥digo es aquel que escala con transparencia.
        </p>

        <p class="text-sm leading-relaxed mb-8" style="color: var(--mui-text-muted);">
          Abordo cada desaf√≠o con la determinaci√≥n de un especialista y la humildad de un
          aprendiz constante, buscando siempre aportar valor tangible a trav√©s de software
          ordenado, seguro, escalable y profundamente funcional.
        </p>

        <!-- Highlights -->
        <div class="space-y-3 mb-10">
          {highlights.map((h) => (
            <div class="flex items-start gap-3">
              <div class="mt-1.5 w-1.5 h-1.5 rounded-full shrink-0" style="background: var(--mui-primary);" />
              <p class="text-sm" style="color: var(--mui-text-muted);">{h}</p>
            </div>
          ))}
        </div>


      </div>
    </div>

    <!-- Stats -->
    <div class="grid grid-cols-2 md:grid-cols-4 gap-6 mt-16 stagger-children">
      {stats.map((stat) => (
        <div class="mui-paper rounded-2xl p-6 text-center transition-colors group">
          <div class="text-3xl sm:text-4xl font-bold font-display mb-1">
            <span class="gradient-text stat-counter" data-target={stat.value} data-suffix={stat.suffix}>
              0{stat.suffix}
            </span>
          </div>
          <p class="text-xs sm:text-sm" style="color: var(--mui-text-muted);">
            {stat.label}
          </p>
        </div>
      ))}
    </div>
  </div>
</section>

<script>
  import gsap from "gsap";
  import { ScrollTrigger } from "gsap/ScrollTrigger";
  gsap.registerPlugin(ScrollTrigger);

  // Counters animation
  document.querySelectorAll<HTMLElement>(".stat-counter").forEach((el) => {
    const target = parseInt(el.dataset.target || "0");
    const suffix = el.dataset.suffix || "";
    const obj = { value: 0 };

    gsap.to(obj, {
      value: target,
      duration: 2.5,
      ease: "power2.out",
      scrollTrigger: {
        trigger: el,
        start: "top 85%",
        toggleActions: "play none none none",
      },
      onUpdate: () => {
        el.textContent = Math.round(obj.value) + suffix;
      },
    });
  });
</script>
